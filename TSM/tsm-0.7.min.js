var EPSILON=1E-6,TSM;
(function(l){var d=function(a){"undefined"===typeof a&&(a=null);this.values=new Float32Array(2);a&&(this.xy=a)};Object.defineProperty(d.prototype,"x",{get:function(){return this.values[0]},set:function(a){this.values[0]=a},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"y",{get:function(){return this.values[1]},set:function(a){this.values[1]=a},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"xy",{get:function(){return[this.values[0],this.values[1]]},set:function(a){this.values[0]=
a[0];this.values[1]=a[1]},enumerable:!0,configurable:!0});d.prototype.at=function(a){return this.values[a]};d.prototype.reset=function(){this.y=this.x=0};d.prototype.copy=function(a){"undefined"===typeof a&&(a=null);a||(a=new d);a.x=this.x;a.y=this.y;return a};d.prototype.negate=function(a){"undefined"===typeof a&&(a=null);a||(a=this);a.x=-this.x;a.y=-this.y;return a};d.prototype.equals=function(a,b){"undefined"===typeof b&&(b=EPSILON);return Math.abs(this.x-a.x)>b||Math.abs(this.y-a.y)>b?!1:!0};
d.prototype.length=function(){return Math.sqrt(this.squaredLength())};d.prototype.squaredLength=function(){var a=this.x,b=this.y;return a*a+b*b};d.prototype.add=function(a){this.x+=a.x;this.y+=a.y;return this};d.prototype.subtract=function(a){this.x-=a.x;this.y-=a.y;return this};d.prototype.multiply=function(a){this.x*=a.x;this.y*=a.y;return this};d.prototype.divide=function(a){this.x/=a.x;this.y/=a.y;return this};d.prototype.scale=function(a,b){"undefined"===typeof b&&(b=null);b||(b=this);b.x*=a;
b.y*=a;return b};d.prototype.normalize=function(a){"undefined"===typeof a&&(a=null);a||(a=this);var b=this.length();if(1===b)return this;if(0===b)return a.x=0,a.y=0,a;b=1/b;a.x*=b;a.y*=b;return a};d.prototype.multiplyMat2=function(a,b){"undefined"===typeof b&&(b=null);b||(b=this);return a.multiplyVec2(this,b)};d.prototype.multiplyMat3=function(a,b){"undefined"===typeof b&&(b=null);b||(b=this);return a.multiplyVec2(this,b)};d.cross=function(a,b,c){"undefined"===typeof c&&(c=null);c||(c=new l.vec3);
a=a.x*b.y-a.y*b.x;c.x=0;c.y=0;c.z=a;return c};d.dot=function(a,b){return a.x*b.x+a.y*b.y};d.distance=function(a,b){return Math.sqrt(this.squaredDistance(a,b))};d.squaredDistance=function(a,b){var c=b.x-a.x,e=b.y-a.y;return c*c+e*e};d.direction=function(a,b,c){"undefined"===typeof c&&(c=null);c||(c=new d);var e=a.x-b.x,a=a.y-b.y,b=Math.sqrt(e*e+a*a);if(0===b)return c.x=0,c.y=0,c;b=1/b;c.x=e*b;c.y=a*b;return c};d.mix=function(a,b,c,e){"undefined"===typeof e&&(e=null);e||(e=new d);var f=a.x,a=a.y,g=
b.y;e.x=f+c*(b.x-f);e.y=a+c*(g-a);return e};d.sum=function(a,b,c){"undefined"===typeof c&&(c=null);c||(c=new d);c.x=a.x+b.x;c.y=a.y+b.y;return c};d.difference=function(a,b,c){"undefined"===typeof c&&(c=null);c||(c=new d);c.x=a.x-b.x;c.y=a.y-b.y;return c};d.product=function(a,b,c){"undefined"===typeof c&&(c=null);c||(c=new d);c.x=a.x*b.x;c.y=a.y*b.y;return c};d.quotient=function(a,b,c){"undefined"===typeof c&&(c=null);c||(c=new d);c.x=a.x/b.x;c.y=a.y/b.y;return c};d.zero=new d([0,0]);l.vec2=d})(TSM||
(TSM={}));
(function(l){var d=function(a){"undefined"===typeof a&&(a=null);this.values=new Float32Array(3);a&&(this.xyz=a)};Object.defineProperty(d.prototype,"x",{get:function(){return this.values[0]},set:function(a){this.values[0]=a},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"y",{get:function(){return this.values[1]},set:function(a){this.values[1]=a},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"z",{get:function(){return this.values[2]},set:function(a){this.values[2]=a},
enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"xy",{get:function(){return[this.values[0],this.values[1]]},set:function(a){this.values[0]=a[0];this.values[1]=a[1]},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"xyz",{get:function(){return[this.values[0],this.values[1],this.values[2]]},set:function(a){this.values[0]=a[0];this.values[1]=a[1];this.values[2]=a[2]},enumerable:!0,configurable:!0});d.prototype.at=function(a){return this.values[a]};d.prototype.reset=
function(){this.z=this.y=this.x=0};d.prototype.copy=function(a){"undefined"===typeof a&&(a=null);a||(a=new d);a.x=this.x;a.y=this.y;a.z=this.z;return a};d.prototype.negate=function(a){"undefined"===typeof a&&(a=null);a||(a=this);a.x=-this.x;a.y=-this.y;a.z=-this.z;return a};d.prototype.equals=function(a,b){"undefined"===typeof b&&(b=EPSILON);return Math.abs(this.x-a.x)>b||Math.abs(this.y-a.y)>b||Math.abs(this.z-a.z)>b?!1:!0};d.prototype.length=function(){return Math.sqrt(this.squaredLength())};d.prototype.squaredLength=
function(){var a=this.x,b=this.y,c=this.z;return a*a+b*b+c*c};d.prototype.add=function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z;return this};d.prototype.subtract=function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z;return this};d.prototype.multiply=function(a){this.x*=a.x;this.y*=a.y;this.z*=a.z;return this};d.prototype.divide=function(a){this.x/=a.x;this.y/=a.y;this.z/=a.z;return this};d.prototype.scale=function(a,b){"undefined"===typeof b&&(b=null);b||(b=this);b.x*=a;b.y*=a;b.z*=a;return b};d.prototype.normalize=
function(a){"undefined"===typeof a&&(a=null);a||(a=this);var b=this.length();if(1===b)return this;if(0===b)return a.x=0,a.y=0,a.z=0,a;b=1/b;a.x*=b;a.y*=b;a.z*=b;return a};d.prototype.multiplyMat3=function(a,b){"undefined"===typeof b&&(b=null);b||(b=this);return a.multiplyVec3(this,b)};d.prototype.multiplyByQuat=function(a,b){"undefined"===typeof b&&(b=null);b||(b=this);return a.multiplyVec3(this,b)};d.cross=function(a,b,c){"undefined"===typeof c&&(c=null);c||(c=new d);var e=a.x,f=a.y,a=a.z,g=b.x,
h=b.y,b=b.z;c.x=f*b-a*h;c.y=a*g-e*b;c.z=e*h-f*g;return c};d.dot=function(a,b){return a.x*b.x+a.y*b.y+a.z*b.z};d.distance=function(a,b){return Math.sqrt(this.squaredDistance(a,b))};d.squaredDistance=function(a,b){var c=b.x-a.x,e=b.y-a.y,d=b.z-a.z;return c*c+e*e+d*d};d.direction=function(a,b,c){"undefined"===typeof c&&(c=null);c||(c=new d);var e=a.x-b.x,f=a.y-b.y,a=a.z-b.z,b=Math.sqrt(e*e+f*f+a*a);if(0===b)return c.x=0,c.y=0,c.z=0,c;b=1/b;c.x=e*b;c.y=f*b;c.z=a*b;return c};d.mix=function(a,b,c,e){"undefined"===
typeof e&&(e=null);e||(e=new d);e.x=a.x+c*(b.x-a.x);e.y=a.y+c*(b.y-a.y);e.z=a.z+c*(b.z-a.z);return e};d.sum=function(a,b,c){"undefined"===typeof c&&(c=null);c||(c=new d);c.x=a.x+b.x;c.y=a.y+b.y;c.z=a.z+b.z;return c};d.difference=function(a,b,c){"undefined"===typeof c&&(c=null);c||(c=new d);c.x=a.x-b.x;c.y=a.y-b.y;c.z=a.z-b.z;return c};d.product=function(a,b,c){"undefined"===typeof c&&(c=null);c||(c=new d);c.x=a.x*b.x;c.y=a.y*b.y;c.z=a.z*b.z;return c};d.quotient=function(a,b,c){"undefined"===typeof c&&
(c=null);c||(c=new d);c.x=a.x/b.x;c.y=a.y/b.y;c.z=a.z/b.z;return c};d.prototype.toQuat=function(a){"undefined"===typeof a&&(a=null);a||(a=new l.quat);var b=new d,c=new d;b.x=Math.cos(0.5*this.x);c.x=Math.sin(0.5*this.x);b.y=Math.cos(0.5*this.y);c.y=Math.sin(0.5*this.y);b.z=Math.cos(0.5*this.z);c.z=Math.sin(0.5*this.z);a.x=c.x*b.y*b.z-b.x*c.y*c.z;a.y=b.x*c.y*b.z+c.x*b.y*c.z;a.z=b.x*b.y*c.z-c.x*c.y*b.z;a.w=b.x*b.y*b.z+c.x*c.y*c.z;return a};d.zero=new d([0,0,0]);d.up=new d([0,1,0]);d.right=new d([1,
0,0]);d.forward=new d([0,0,1]);l.vec3=d})(TSM||(TSM={}));
(function(l){var d=function(a){"undefined"===typeof a&&(a=null);this.values=new Float32Array(4);a&&(this.xyzw=a)};Object.defineProperty(d.prototype,"x",{get:function(){return this.values[0]},set:function(a){this.values[0]=a},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"y",{get:function(){return this.values[1]},set:function(a){this.values[1]=a},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"z",{get:function(){return this.values[2]},set:function(a){this.values[2]=
a},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"w",{get:function(){return this.values[3]},set:function(a){this.values[3]=a},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"xy",{get:function(){return[this.values[0],this.values[1]]},set:function(a){this.values[0]=a[0];this.values[1]=a[1]},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"xyz",{get:function(){return[this.values[0],this.values[1],this.values[2]]},set:function(a){this.values[0]=
a[0];this.values[1]=a[1];this.values[2]=a[2]},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"xyzw",{get:function(){return[this.values[0],this.values[1],this.values[2],this.values[3]]},set:function(a){this.values[0]=a[0];this.values[1]=a[1];this.values[2]=a[2];this.values[3]=a[3]},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"r",{get:function(){return this.values[0]},set:function(a){this.values[0]=a},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,
"g",{get:function(){return this.values[1]},set:function(a){this.values[1]=a},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"b",{get:function(){return this.values[2]},set:function(a){this.values[2]=a},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"a",{get:function(){return this.values[3]},set:function(a){this.values[3]=a},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"rg",{get:function(){return[this.values[0],this.values[1]]},set:function(a){this.values[0]=
a[0];this.values[1]=a[1]},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"rgb",{get:function(){return[this.values[0],this.values[1],this.values[2]]},set:function(a){this.values[0]=a[0];this.values[1]=a[1];this.values[2]=a[2]},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"rgba",{get:function(){return[this.values[0],this.values[1],this.values[2],this.values[3]]},set:function(a){this.values[0]=a[0];this.values[1]=a[1];this.values[2]=a[2];this.values[3]=a[3]},enumerable:!0,
configurable:!0});d.prototype.at=function(a){return this.values[a]};d.prototype.reset=function(){this.w=this.z=this.y=this.x=0};d.prototype.copy=function(a){"undefined"===typeof a&&(a=null);a||(a=new d);a.x=this.x;a.y=this.y;a.z=this.z;a.w=this.w;return a};d.prototype.negate=function(a){"undefined"===typeof a&&(a=null);a||(a=this);a.x=-this.x;a.y=-this.y;a.z=-this.z;a.w=-this.w;return a};d.prototype.equals=function(a,b){"undefined"===typeof b&&(b=EPSILON);return Math.abs(this.x-a.x)>b||Math.abs(this.y-
a.y)>b||Math.abs(this.z-a.z)>b||Math.abs(this.w-a.w)>b?!1:!0};d.prototype.length=function(){return Math.sqrt(this.squaredLength())};d.prototype.squaredLength=function(){var a=this.x,b=this.y,c=this.z,e=this.w;return a*a+b*b+c*c+e*e};d.prototype.add=function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z;this.w+=a.w;return this};d.prototype.subtract=function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z;this.w-=a.w;return this};d.prototype.multiply=function(a){this.x*=a.x;this.y*=a.y;this.z*=a.z;this.w*=a.w;return this};
d.prototype.divide=function(a){this.x/=a.x;this.y/=a.y;this.z/=a.z;this.w/=a.w;return this};d.prototype.scale=function(a,b){"undefined"===typeof b&&(b=null);b||(b=this);b.x*=a;b.y*=a;b.z*=a;b.w*=a;return b};d.prototype.normalize=function(a){"undefined"===typeof a&&(a=null);a||(a=this);var b=this.length();if(1===b)return this;if(0===b)return a.x*=0,a.y*=0,a.z*=0,a.w*=0,a;b=1/b;a.x*=b;a.y*=b;a.z*=b;a.w*=b;return a};d.prototype.multiplyMat4=function(a,b){"undefined"===typeof b&&(b=null);b||(b=this);
return a.multiplyVec4(this,b)};d.mix=function(a,b,c,e){"undefined"===typeof e&&(e=null);e||(e=new d);e.x=a.x+c*(b.x-a.x);e.y=a.y+c*(b.y-a.y);e.z=a.z+c*(b.z-a.z);e.w=a.w+c*(b.w-a.w);return e};d.sum=function(a,b,c){"undefined"===typeof c&&(c=null);c||(c=new d);c.x=a.x+b.x;c.y=a.y+b.y;c.z=a.z+b.z;c.w=a.w+b.w;return c};d.difference=function(a,b,c){"undefined"===typeof c&&(c=null);c||(c=new d);c.x=a.x-b.x;c.y=a.y-b.y;c.z=a.z-b.z;c.w=a.w-b.w;return c};d.product=function(a,b,c){"undefined"===typeof c&&(c=
null);c||(c=new d);c.x=a.x*b.x;c.y=a.y*b.y;c.z=a.z*b.z;c.w=a.w*b.w;return c};d.quotient=function(a,b,c){"undefined"===typeof c&&(c=null);c||(c=new d);c.x=a.x/b.x;c.y=a.y/b.y;c.z=a.z/b.z;c.w=a.w/b.w;return c};d.zero=new d([0,0,0,1]);l.vec4=d})(TSM||(TSM={}));
(function(l){var d=function(a){"undefined"===typeof a&&(a=null);this.values=new Float32Array(4);a&&this.init(a)};d.prototype.at=function(a){return this.values[a]};d.prototype.init=function(a){for(var b=0;4>b;b++)this.values[b]=a[b];return this};d.prototype.reset=function(){for(var a=0;4>a;a++)this.values[a]=0};d.prototype.copy=function(a){"undefined"===typeof a&&(a=null);a||(a=new d);for(var b=0;4>b;b++)a.values[b]=this.values[b];return a};d.prototype.all=function(){for(var a=[],b=0;4>b;b++)a[b]=
this.values[b];return a};d.prototype.row=function(a){return[this.values[2*a+0],this.values[2*a+1]]};d.prototype.col=function(a){return[this.values[a],this.values[a+2]]};d.prototype.equals=function(a,b){"undefined"===typeof b&&(b=EPSILON);for(var c=0;4>c;c++)if(Math.abs(this.values[c]-a.at(c))>b)return!1;return!0};d.prototype.determinant=function(){return this.values[0]*this.values[3]-this.values[2]*this.values[1]};d.prototype.setIdentity=function(){this.values[0]=1;this.values[1]=0;this.values[2]=
0;this.values[3]=1;return this};d.prototype.transpose=function(){var a=this.values[1];this.values[1]=this.values[2];this.values[2]=a;return this};d.prototype.inverse=function(){var a=this.determinant();if(!a)return null;a=1/a;this.values[0]=a*this.values[3];this.values[1]=a*-this.values[1];this.values[2]=a*-this.values[2];this.values[3]=a*this.values[0];return this};d.prototype.multiply=function(a){var b=this.values[0],c=this.values[1],e=this.values[2],d=this.values[3];this.values[0]=b*a.at(0)+c*
a.at(2);this.values[1]=b*a.at(1)+c*a.at(3);this.values[2]=e*a.at(0)+d*a.at(2);this.values[3]=e*a.at(1)+d*a.at(3);return this};d.prototype.rotate=function(a){var b=this.values[0],c=this.values[1],e=this.values[2],d=this.values[3],g=Math.sin(a),a=Math.cos(a);this.values[0]=b*a+c*g;this.values[1]=b*-g+c*a;this.values[2]=e*a+d*g;this.values[3]=e*-g+d*a;return this};d.prototype.multiplyVec2=function(a,b){"undefined"===typeof b&&(b=null);var c=a.x,e=a.y;return b?(b.xy=[c*this.values[0]+e*this.values[1],
c*this.values[2]+e*this.values[3]],b):new l.vec2([c*this.values[0]+e*this.values[1],c*this.values[2]+e*this.values[3]])};d.prototype.scale=function(a){var b=this.values[1],c=this.values[2],e=this.values[3],d=a.x,a=a.y;this.values[0]*=d;this.values[1]=b*a;this.values[2]=c*d;this.values[3]=e*a;return this};d.product=function(a,b,c){"undefined"===typeof c&&(c=null);var e=a.at(0),f=a.at(1),g=a.at(2),a=a.at(3);return c?(c.init([e*b.at(0)+f*b.at(2),e*b.at(1)+f*b.at(3),g*b.at(0)+a*b.at(2),g*b.at(1)+a*b.at(3)]),
c):new d([e*b.at(0)+f*b.at(2),e*b.at(1)+f*b.at(3),g*b.at(0)+a*b.at(2),g*b.at(1)+a*b.at(3)])};d.identity=(new d).setIdentity();l.mat2=d})(TSM||(TSM={}));
(function(l){var d=function(a){"undefined"===typeof a&&(a=null);this.values=new Float32Array(9);a&&this.init(a)};d.prototype.at=function(a){return this.values[a]};d.prototype.init=function(a){for(var b=0;9>b;b++)this.values[b]=a[b];return this};d.prototype.reset=function(){for(var a=0;9>a;a++)this.values[a]=0};d.prototype.copy=function(a){"undefined"===typeof a&&(a=null);a||(a=new d);for(var b=0;9>b;b++)a.values[b]=this.values[b];return a};d.prototype.all=function(){for(var a=[],b=0;9>b;b++)a[b]=
this.values[b];return a};d.prototype.row=function(a){return[this.values[3*a+0],this.values[3*a+1],this.values[3*a+2]]};d.prototype.col=function(a){return[this.values[a],this.values[a+3],this.values[a+6]]};d.prototype.equals=function(a,b){"undefined"===typeof b&&(b=EPSILON);for(var c=0;9>c;c++)if(Math.abs(this.values[c]-a.at(c))>b)return!1;return!0};d.prototype.determinant=function(){var a=this.values[3],b=this.values[4],c=this.values[5],e=this.values[6],d=this.values[7],g=this.values[8];return this.values[0]*
(g*b-c*d)+this.values[1]*(-g*a+c*e)+this.values[2]*(d*a-b*e)};d.prototype.setIdentity=function(){this.values[0]=1;this.values[1]=0;this.values[2]=0;this.values[3]=0;this.values[4]=1;this.values[5]=0;this.values[6]=0;this.values[7]=0;this.values[8]=1;return this};d.prototype.transpose=function(){var a=this.values[1],b=this.values[2],c=this.values[5];this.values[1]=this.values[3];this.values[2]=this.values[6];this.values[3]=a;this.values[5]=this.values[7];this.values[6]=b;this.values[7]=c;return this};
d.prototype.inverse=function(){var a=this.values[0],b=this.values[1],c=this.values[2],e=this.values[3],d=this.values[4],g=this.values[5],h=this.values[6],i=this.values[7],j=this.values[8],p=j*d-g*i,k=-j*e+g*h,m=i*e-d*h,n=a*p+b*k+c*m;if(!n)return null;n=1/n;this.values[0]=p*n;this.values[1]=(-j*b+c*i)*n;this.values[2]=(g*b-c*d)*n;this.values[3]=k*n;this.values[4]=(j*a-c*h)*n;this.values[5]=(-g*a+c*e)*n;this.values[6]=m*n;this.values[7]=(-i*a+b*h)*n;this.values[8]=(d*a-b*e)*n;return this};d.prototype.multiply=
function(a){var b=this.values[0],c=this.values[1],e=this.values[2],d=this.values[3],g=this.values[4],h=this.values[5],i=this.values[6],j=this.values[7],p=this.values[8],k=a.at(0),m=a.at(1),n=a.at(2),E=a.at(3),s=a.at(4),t=a.at(5),w=a.at(6),q=a.at(7),a=a.at(8);this.values[0]=k*b+m*d+n*i;this.values[1]=k*c+m*g+n*j;this.values[2]=k*e+m*h+n*p;this.values[3]=E*b+s*d+t*i;this.values[4]=E*c+s*g+t*j;this.values[5]=E*e+s*h+t*p;this.values[6]=w*b+q*d+a*i;this.values[7]=w*c+q*g+a*j;this.values[8]=w*e+q*h+a*p;
return this};d.prototype.multiplyVec2=function(a,b){"undefined"===typeof b&&(b=null);var c=a.x,e=a.y;return b?(b.xy=[c*this.values[0]+e*this.values[3]+this.values[6],c*this.values[1]+e*this.values[4]+this.values[7]],b):new l.vec2([c*this.values[0]+e*this.values[3]+this.values[6],c*this.values[1]+e*this.values[4]+this.values[7]])};d.prototype.multiplyVec3=function(a,b){"undefined"===typeof b&&(b=null);var c=a.x,e=a.y,d=a.z;return b?(b.xyz=[c*this.values[0]+e*this.values[3]+d*this.values[6],c*this.values[1]+
e*this.values[4]+d*this.values[7],c*this.values[2]+e*this.values[5]+d*this.values[8]],b):new l.vec3([c*this.values[0]+e*this.values[3]+d*this.values[6],c*this.values[1]+e*this.values[4]+d*this.values[7],c*this.values[2]+e*this.values[5]+d*this.values[8]])};d.prototype.toMat4=function(a){"undefined"===typeof a&&(a=null);return a?(a.init([this.values[0],this.values[1],this.values[2],0,this.values[3],this.values[4],this.values[5],0,this.values[6],this.values[7],this.values[8],0,0,0,0,1]),a):new l.mat4([this.values[0],
this.values[1],this.values[2],0,this.values[3],this.values[4],this.values[5],0,this.values[6],this.values[7],this.values[8],0,0,0,0,1])};d.prototype.toQuat=function(){var a=this.values[0],b=this.values[1],c=this.values[2],d=this.values[3],f=this.values[4],g=this.values[5],h=this.values[6],i=this.values[7],j=this.values[8],p=a-f-j,k=f-a-j,m=j-a-f,n=0,a=a+f+j;p>a&&(a=p,n=1);k>a&&(a=k,n=2);m>a&&(a=m,n=3);p=0.5*Math.sqrt(a+1);k=0.25/p;m=new l.quat;switch(n){case 0:m.w=p;m.x=(g-i)*k;m.y=(h-c)*k;m.z=(b-
d)*k;break;case 1:m.w=(g-i)*k;m.x=p;m.y=(b+d)*k;m.z=(h+c)*k;break;case 2:m.w=(h-c)*k;m.x=(b+d)*k;m.y=p;m.z=(g+i)*k;break;case 3:m.w=(b-d)*k,m.x=(h+c)*k,m.y=(g+i)*k,m.z=p}return m};d.prototype.rotate=function(a,b){var c=b.x,d=b.y,f=b.z,g=Math.sqrt(c*c+d*d+f*f);if(!g)return null;1!==g&&(g=1/g,c*=g,d*=g,f*=g);var h=Math.sin(a),i=Math.cos(a),j=1-i,g=this.values[0],p=this.values[1],k=this.values[2],m=this.values[4],n=this.values[5],E=this.values[6],s=this.values[8],t=this.values[9],w=this.values[10],q=
c*c*j+i,r=d*c*j+f*h,v=f*c*j-d*h,u=c*d*j-f*h,l=d*d*j+i,y=f*d*j+c*h,z=c*f*j+d*h,c=d*f*j-c*h,f=f*f*j+i;this.values[0]=g*q+m*r+s*v;this.values[1]=p*q+n*r+t*v;this.values[2]=k*q+E*r+w*v;this.values[3]=g*u+m*l+s*y;this.values[4]=p*u+n*l+t*y;this.values[5]=k*u+E*l+w*y;this.values[6]=g*z+m*c+s*f;this.values[7]=p*z+n*c+t*f;this.values[8]=k*z+E*c+w*f;return this};d.product=function(a,b,c){"undefined"===typeof c&&(c=null);var e=a.at(0),f=a.at(1),g=a.at(2),h=a.at(3),i=a.at(4),j=a.at(5),p=a.at(6),k=a.at(7),a=
a.at(8),m=b.at(0),n=b.at(1),E=b.at(2),s=b.at(3),t=b.at(4),l=b.at(5),q=b.at(6),r=b.at(7),b=b.at(8);return c?(c.init([m*e+n*h+E*p,m*f+n*i+E*k,m*g+n*j+E*a,s*e+t*h+l*p,s*f+t*i+l*k,s*g+t*j+l*a,q*e+r*h+b*p,q*f+r*i+b*k,q*g+r*j+b*a]),c):new d([m*e+n*h+E*p,m*f+n*i+E*k,m*g+n*j+E*a,s*e+t*h+l*p,s*f+t*i+l*k,s*g+t*j+l*a,q*e+r*h+b*p,q*f+r*i+b*k,q*g+r*j+b*a])};d.identity=(new d).setIdentity();l.mat3=d})(TSM||(TSM={}));
(function(l){var d=function(a){"undefined"===typeof a&&(a=null);this.values=new Float32Array(16);a&&this.init(a)};d.prototype.at=function(a){return this.values[a]};d.prototype.init=function(a){for(var b=0;16>b;b++)this.values[b]=a[b];return this};d.prototype.reset=function(){for(var a=0;16>a;a++)this.values[a]=0};d.prototype.copy=function(a){"undefined"===typeof a&&(a=null);a||(a=new d);for(var b=0;16>b;b++)a.values[b]=this.values[b];return a};d.prototype.all=function(){for(var a=[],b=0;16>b;b++)a[b]=
this.values[b];return a};d.prototype.row=function(a){return[this.values[4*a+0],this.values[4*a+1],this.values[4*a+2],this.values[4*a+3]]};d.prototype.col=function(a){return[this.values[a],this.values[a+4],this.values[a+8],this.values[a+12]]};d.prototype.equals=function(a,b){"undefined"===typeof b&&(b=EPSILON);for(var c=0;16>c;c++)if(Math.abs(this.values[c]-a.at(c))>b)return!1;return!0};d.prototype.determinant=function(){var a=this.values[0],b=this.values[1],c=this.values[2],d=this.values[3],f=this.values[4],
g=this.values[5],h=this.values[6],i=this.values[7],j=this.values[8],p=this.values[9],k=this.values[10],m=this.values[11],n=this.values[12],l=this.values[13],s=this.values[14],t=this.values[15];return(a*g-b*f)*(k*t-m*s)-(a*h-c*f)*(p*t-m*l)+(a*i-d*f)*(p*s-k*l)+(b*h-c*g)*(j*t-m*n)-(b*i-d*g)*(j*s-k*n)+(c*i-d*h)*(j*l-p*n)};d.prototype.setIdentity=function(){this.values[0]=1;this.values[1]=0;this.values[2]=0;this.values[3]=0;this.values[4]=0;this.values[5]=1;this.values[6]=0;this.values[7]=0;this.values[8]=
0;this.values[9]=0;this.values[10]=1;this.values[11]=0;this.values[12]=0;this.values[13]=0;this.values[14]=0;this.values[15]=1;return this};d.prototype.transpose=function(){var a=this.values[1],b=this.values[2],c=this.values[3],d=this.values[6],f=this.values[7],g=this.values[11];this.values[1]=this.values[4];this.values[2]=this.values[8];this.values[3]=this.values[12];this.values[4]=a;this.values[6]=this.values[9];this.values[7]=this.values[13];this.values[8]=b;this.values[9]=d;this.values[11]=this.values[14];
this.values[12]=c;this.values[13]=f;this.values[14]=g;return this};d.prototype.inverse=function(){var a=this.values[0],b=this.values[1],c=this.values[2],d=this.values[3],f=this.values[4],g=this.values[5],h=this.values[6],i=this.values[7],j=this.values[8],p=this.values[9],k=this.values[10],m=this.values[11],n=this.values[12],l=this.values[13],s=this.values[14],t=this.values[15],w=a*g-b*f,q=a*h-c*f,r=a*i-d*f,v=b*h-c*g,u=b*i-d*g,A=c*i-d*h,y=j*l-p*n,z=j*s-k*n,B=j*t-m*n,C=p*s-k*l,D=p*t-m*l,F=k*t-m*s,x=
w*F-q*D+r*C+v*B-u*z+A*y;if(!x)return null;x=1/x;this.values[0]=(g*F-h*D+i*C)*x;this.values[1]=(-b*F+c*D-d*C)*x;this.values[2]=(l*A-s*u+t*v)*x;this.values[3]=(-p*A+k*u-m*v)*x;this.values[4]=(-f*F+h*B-i*z)*x;this.values[5]=(a*F-c*B+d*z)*x;this.values[6]=(-n*A+s*r-t*q)*x;this.values[7]=(j*A-k*r+m*q)*x;this.values[8]=(f*D-g*B+i*y)*x;this.values[9]=(-a*D+b*B-d*y)*x;this.values[10]=(n*u-l*r+t*w)*x;this.values[11]=(-j*u+p*r-m*w)*x;this.values[12]=(-f*C+g*z-h*y)*x;this.values[13]=(a*C-b*z+c*y)*x;this.values[14]=
(-n*v+l*q-s*w)*x;this.values[15]=(j*v-p*q+k*w)*x;return this};d.prototype.multiply=function(a){var b=this.values[0],c=this.values[1],d=this.values[2],f=this.values[3],g=this.values[4],h=this.values[5],i=this.values[6],j=this.values[7],p=this.values[8],k=this.values[9],m=this.values[10],n=this.values[11],l=this.values[12],s=this.values[13],t=this.values[14],w=this.values[15],q=a.at(0),r=a.at(1),v=a.at(2),u=a.at(3);this.values[0]=q*b+r*g+v*p+u*l;this.values[1]=q*c+r*h+v*k+u*s;this.values[2]=q*d+r*i+
v*m+u*t;this.values[3]=q*f+r*j+v*n+u*w;q=a.at(4);r=a.at(5);v=a.at(6);u=a.at(7);this.values[4]=q*b+r*g+v*p+u*l;this.values[5]=q*c+r*h+v*k+u*s;this.values[6]=q*d+r*i+v*m+u*t;this.values[7]=q*f+r*j+v*n+u*w;q=a.at(8);r=a.at(9);v=a.at(10);u=a.at(11);this.values[8]=q*b+r*g+v*p+u*l;this.values[9]=q*c+r*h+v*k+u*s;this.values[10]=q*d+r*i+v*m+u*t;this.values[11]=q*f+r*j+v*n+u*w;q=a.at(12);r=a.at(13);v=a.at(14);u=a.at(15);this.values[12]=q*b+r*g+v*p+u*l;this.values[13]=q*c+r*h+v*k+u*s;this.values[14]=q*d+r*
i+v*m+u*t;this.values[15]=q*f+r*j+v*n+u*w;return this};d.prototype.multiplyVec3=function(a){var b=a.x,c=a.y,a=a.z;return new l.vec3([this.values[0]*b+this.values[4]*c+this.values[8]*a+this.values[12],this.values[1]*b+this.values[5]*c+this.values[9]*a+this.values[13],this.values[2]*b+this.values[6]*c+this.values[10]*a+this.values[14]])};d.prototype.multiplyVec4=function(a,b){"undefined"===typeof b&&(b=null);b||(b=new l.vec4);var c=a.x,d=a.y,f=a.z,g=a.w;b.x=this.values[0]*c+this.values[4]*d+this.values[8]*
f+this.values[12]*g;b.y=this.values[1]*c+this.values[5]*d+this.values[9]*f+this.values[13]*g;b.z=this.values[2]*c+this.values[6]*d+this.values[10]*f+this.values[14]*g;b.w=this.values[3]*c+this.values[7]*d+this.values[11]*f+this.values[15]*g;return b};d.prototype.toMat3=function(){return new l.mat3([this.values[0],this.values[1],this.values[2],this.values[4],this.values[5],this.values[6],this.values[8],this.values[9],this.values[10]])};d.prototype.toInverseMat3=function(){var a=this.values[0],b=this.values[1],
c=this.values[2],d=this.values[4],f=this.values[5],g=this.values[6],h=this.values[8],i=this.values[9],j=this.values[10],p=j*f-g*i,k=-j*d+g*h,m=i*d-f*h,n=a*p+b*k+c*m;if(!n)return null;n=1/n;return new l.mat3([p*n,(-j*b+c*i)*n,(g*b-c*f)*n,k*n,(j*a-c*h)*n,(-g*a+c*d)*n,m*n,(-i*a+b*h)*n,(f*a-b*d)*n])};d.prototype.translate=function(a){var b=a.x,c=a.y,a=a.z;this.values[12]+=this.values[0]*b+this.values[4]*c+this.values[8]*a;this.values[13]+=this.values[1]*b+this.values[5]*c+this.values[9]*a;this.values[14]+=
this.values[2]*b+this.values[6]*c+this.values[10]*a;this.values[15]+=this.values[3]*b+this.values[7]*c+this.values[11]*a;return this};d.prototype.scale=function(a){var b=a.x,c=a.y,a=a.z;this.values[0]*=b;this.values[1]*=b;this.values[2]*=b;this.values[3]*=b;this.values[4]*=c;this.values[5]*=c;this.values[6]*=c;this.values[7]*=c;this.values[8]*=a;this.values[9]*=a;this.values[10]*=a;this.values[11]*=a;return this};d.prototype.rotate=function(a,b){var c=b.x,d=b.y,f=b.z,g=Math.sqrt(c*c+d*d+f*f);if(!g)return null;
1!==g&&(g=1/g,c*=g,d*=g,f*=g);var h=Math.sin(a),i=Math.cos(a),j=1-i,g=this.values[0],p=this.values[1],k=this.values[2],m=this.values[3],n=this.values[4],l=this.values[5],s=this.values[6],t=this.values[7],w=this.values[8],q=this.values[9],r=this.values[10],v=this.values[11],u=c*c*j+i,A=d*c*j+f*h,y=f*c*j-d*h,z=c*d*j-f*h,B=d*d*j+i,C=f*d*j+c*h,D=c*f*j+d*h,c=d*f*j-c*h,f=f*f*j+i;this.values[0]=g*u+n*A+w*y;this.values[1]=p*u+l*A+q*y;this.values[2]=k*u+s*A+r*y;this.values[3]=m*u+t*A+v*y;this.values[4]=g*
z+n*B+w*C;this.values[5]=p*z+l*B+q*C;this.values[6]=k*z+s*B+r*C;this.values[7]=m*z+t*B+v*C;this.values[8]=g*D+n*c+w*f;this.values[9]=p*D+l*c+q*f;this.values[10]=k*D+s*c+r*f;this.values[11]=m*D+t*c+v*f;return this};d.frustum=function(a,b,c,e,f,g){var h=b-a,i=e-c,j=g-f;return new d([2*f/h,0,0,0,0,2*f/i,0,0,(b+a)/h,(e+c)/i,-(g+f)/j,-1,0,0,-(2*g*f)/j,0])};d.perspective=function(a,b,c,e){a=c*Math.tan(a*Math.PI/360);b*=a;return d.frustum(-b,b,-a,a,c,e)};d.orthographic=function(a,b,c,e,f,g){var h=b-a,i=
e-c,j=g-f;return new d([2/h,0,0,0,0,2/i,0,0,0,0,-2/j,0,-(a+b)/h,-(e+c)/i,-(g+f)/j,1])};d.lookAt=function(a,b,c){"undefined"===typeof c&&(c=l.vec3.up);if(a.equals(b))return this.identity;var b=l.vec3.difference(a,b).normalize(),c=l.vec3.cross(c,b).normalize(),e=l.vec3.cross(b,c).normalize();return new d([c.x,e.x,b.x,0,c.y,e.y,b.y,0,c.z,e.z,b.z,0,-l.vec3.dot(c,a),-l.vec3.dot(e,a),-l.vec3.dot(b,a),1])};d.product=function(a,b,c){"undefined"===typeof c&&(c=null);var e=a.at(0),f=a.at(1),g=a.at(2),h=a.at(3),
i=a.at(4),j=a.at(5),p=a.at(6),k=a.at(7),m=a.at(8),n=a.at(9),l=a.at(10),s=a.at(11),t=a.at(12),w=a.at(13),q=a.at(14),a=a.at(15),r=b.at(0),v=b.at(1),u=b.at(2),A=b.at(3),y=b.at(4),z=b.at(5),B=b.at(6),C=b.at(7),D=b.at(8),F=b.at(9),x=b.at(10),G=b.at(11),H=b.at(12),I=b.at(13),J=b.at(14),b=b.at(15);return c?(c.init([r*e+v*i+u*m+A*t,r*f+v*j+u*n+A*w,r*g+v*p+u*l+A*q,r*h+v*k+u*s+A*a,y*e+z*i+B*m+C*t,y*f+z*j+B*n+C*w,y*g+z*p+B*l+C*q,y*h+z*k+B*s+C*a,D*e+F*i+x*m+G*t,D*f+F*j+x*n+G*w,D*g+F*p+x*l+G*q,D*h+F*k+x*s+G*a,
H*e+I*i+J*m+b*t,H*f+I*j+J*n+b*w,H*g+I*p+J*l+b*q,H*h+I*k+J*s+b*a]),c):new d([r*e+v*i+u*m+A*t,r*f+v*j+u*n+A*w,r*g+v*p+u*l+A*q,r*h+v*k+u*s+A*a,y*e+z*i+B*m+C*t,y*f+z*j+B*n+C*w,y*g+z*p+B*l+C*q,y*h+z*k+B*s+C*a,D*e+F*i+x*m+G*t,D*f+F*j+x*n+G*w,D*g+F*p+x*l+G*q,D*h+F*k+x*s+G*a,H*e+I*i+J*m+b*t,H*f+I*j+J*n+b*w,H*g+I*p+J*l+b*q,H*h+I*k+J*s+b*a])};d.identity=(new d).setIdentity();l.mat4=d})(TSM||(TSM={}));
(function(l){var d=function(a){"undefined"===typeof a&&(a=null);this.values=new Float32Array(4);a&&(this.xyzw=a)};Object.defineProperty(d.prototype,"x",{get:function(){return this.values[0]},set:function(a){this.values[0]=a},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"y",{get:function(){return this.values[1]},set:function(a){this.values[1]=a},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"z",{get:function(){return this.values[2]},set:function(a){this.values[2]=
a},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"w",{get:function(){return this.values[3]},set:function(a){this.values[3]=a},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"xy",{get:function(){return[this.values[0],this.values[1]]},set:function(a){this.values[0]=a[0];this.values[1]=a[1]},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"xyz",{get:function(){return[this.values[0],this.values[1],this.values[2]]},set:function(a){this.values[0]=
a[0];this.values[1]=a[1];this.values[2]=a[2]},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"xyzw",{get:function(){return[this.values[0],this.values[1],this.values[2],this.values[3]]},set:function(a){this.values[0]=a[0];this.values[1]=a[1];this.values[2]=a[2];this.values[3]=a[3]},enumerable:!0,configurable:!0});d.prototype.at=function(a){return this.values[a]};d.prototype.reset=function(){for(var a=0;4>a;a++)this.values[a]=0};d.prototype.copy=function(a){"undefined"===typeof a&&
(a=null);a||(a=new d);for(var b=0;4>b;b++)a.values[b]=this.values[b];return a};d.prototype.roll=function(){var a=this.x,b=this.y,c=this.z,d=this.w;return Math.atan2(2*(a*b+d*c),d*d+a*a-b*b-c*c)};d.prototype.pitch=function(){var a=this.x,b=this.y,c=this.z,d=this.w;return Math.atan2(2*(b*c+d*a),d*d-a*a-b*b+c*c)};d.prototype.yaw=function(){return Math.asin(2*(this.x*this.z-this.w*this.y))};d.prototype.equals=function(a,b){"undefined"===typeof b&&(b=EPSILON);for(var c=0;4>c;c++)if(Math.abs(this.values[c]-
a.at(c))>b)return!1;return!0};d.prototype.setIdentity=function(){this.z=this.y=this.x=0;this.w=1;return this};d.prototype.calculateW=function(){var a=this.x,b=this.y,c=this.z;this.w=-Math.sqrt(Math.abs(1-a*a-b*b-c*c));return this};d.dot=function(a,b){return a.x*b.x+a.y*b.y+a.z*b.z+a.w*b.w};d.prototype.inverse=function(){var a=d.dot(this,this);if(!a)return this.xyzw=[0,0,0,0],this;a=a?1/a:0;this.x*=-a;this.y*=-a;this.z*=-a;this.w*=a;return this};d.prototype.conjugate=function(){this.values[0]*=-1;
this.values[1]*=-1;this.values[2]*=-1;return this};d.prototype.length=function(){var a=this.x,b=this.y,c=this.z,d=this.w;return Math.sqrt(a*a+b*b+c*c+d*d)};d.prototype.normalize=function(a){"undefined"===typeof a&&(a=null);a||(a=this);var b=this.x,c=this.y,d=this.z,f=this.w,g=Math.sqrt(b*b+c*c+d*d+f*f);if(!g)return a.x=0,a.y=0,a.z=0,a.w=0,a;g=1/g;a.x=b*g;a.y=c*g;a.z=d*g;a.w=f*g;return a};d.prototype.add=function(a){for(var b=0;4>b;b++)this.values[b]+=a.at(b);return this};d.prototype.multiply=function(a){var b=
this.values[0],c=this.values[1],d=this.values[2],f=this.values[3],g=a.x,h=a.y,i=a.z,a=a.w;this.x=b*a+f*g+c*i-d*h;this.y=c*a+f*h+d*g-b*i;this.z=d*a+f*i+b*h-c*g;this.w=f*a-b*g-c*h-d*i;return this};d.prototype.multiplyVec3=function(a,b){"undefined"===typeof b&&(b=null);b||(b=new l.vec3);var c=a.x,d=a.y,f=a.z,g=this.x,h=this.y,i=this.z,j=this.w,p=j*c+h*f-i*d,k=j*d+i*c-g*f,m=j*f+g*d-h*c,c=-g*c-h*d-i*f;b.x=p*j+c*-g+k*-i-m*-h;b.y=k*j+c*-h+m*-g-p*-i;b.z=m*j+c*-i+p*-h-k*-g;return b};d.prototype.toMat3=function(a){"undefined"===
typeof a&&(a=null);a||(a=new l.mat3);var b=this.x,c=this.y,d=this.z,f=this.w,g=b+b,h=c+c,i=d+d,j=b*g,p=b*h,b=b*i,k=c*h,c=c*i,d=d*i,g=f*g,h=f*h,f=f*i;a.init([1-(k+d),p+f,b-h,p-f,1-(j+d),c+g,b+h,c-g,1-(j+k)]);return a};d.prototype.toMat4=function(a){"undefined"===typeof a&&(a=null);a||(a=new l.mat4);var b=this.x,c=this.y,d=this.z,f=this.w,g=b+b,h=c+c,i=d+d,j=b*g,p=b*h,b=b*i,k=c*h,c=c*i,d=d*i,g=f*g,h=f*h,f=f*i;a.init([1-(k+d),p+f,b-h,0,p-f,1-(j+d),c+g,0,b+h,c-g,1-(j+k),0,0,0,0,1]);return a};d.sum=function(a,
b,c){"undefined"===typeof c&&(c=null);c||(c=new d);c.x=a.x+b.x;c.y=a.y+b.y;c.z=a.z+b.z;c.w=a.w+b.w;return c};d.product=function(a,b,c){"undefined"===typeof c&&(c=null);c||(c=new d);var e=a.x,f=a.y,g=a.z,a=a.w,h=b.x,i=b.y,j=b.z,b=b.w;c.x=e*b+a*h+f*j-g*i;c.y=f*b+a*i+g*h-e*j;c.z=g*b+a*j+e*i-f*h;c.w=a*b-e*h-f*i-g*j;return c};d.cross=function(a,b,c){"undefined"===typeof c&&(c=null);c||(c=new d);var e=a.x,f=a.y,g=a.z,a=a.w,h=b.x,i=b.y,j=b.z,b=b.w;c.x=a*j+g*b+e*i-f*h;c.y=a*b-e*h-f*i-g*j;c.z=a*h+e*b+f*j-
g*i;c.w=a*i+f*b+g*h-e*j;return c};d.shortMix=function(a,b,c,e){"undefined"===typeof e&&(e=null);e||(e=new d);if(0>=c)return e.xyzw=a.xyzw,e;if(1<=c)return e.xyzw=b.xyzw,e;var f=d.dot(a,b),b=b.copy();0>f&&(b.inverse(),f=-f);if(0.9999<f)f=1-c,c=0+c;else var g=Math.sqrt(1-f*f),h=Math.atan2(g,f),g=1/g,f=Math.sin((1-c)*h)*g,c=Math.sin((0+c)*h)*g;e.x=f*a.x+c*b.x;e.y=f*a.y+c*b.y;e.z=f*a.z+c*b.z;e.w=f*a.w+c*b.w;return e};d.mix=function(a,b,c,e){"undefined"===typeof e&&(e=null);e||(e=new d);var f=a.x*b.x+
a.y*b.y+a.z*b.z+a.w*b.w;if(1<=Math.abs(f))return e.xyzw=a.xyzw,e;var g=Math.acos(f),h=Math.sqrt(1-f*f);if(0.001>Math.abs(h))return e.x=0.5*a.x+0.5*b.x,e.y=0.5*a.y+0.5*b.y,e.z=0.5*a.z+0.5*b.z,e.w=0.5*a.w+0.5*b.w,e;f=Math.sin((1-c)*g)/h;c=Math.sin(c*g)/h;e.x=a.x*f+b.x*c;e.y=a.y*f+b.y*c;e.z=a.z*f+b.z*c;e.w=a.w*f+b.w*c;return e};d.fromAxis=function(a,b,c){"undefined"===typeof c&&(c=null);c||(c=new d);var b=0.5*b,e=Math.sin(b);c.x=a.x*e;c.y=a.y*e;c.z=a.z*e;c.w=Math.cos(b);return c};d.fromRotationMatrix=
function(a,b){"undefined"===typeof b&&(b=null);b||(b=new d);var c=a.all(),e=c[0],f=c[4],g=c[8],h=c[1],i=c[5],j=c[9],l=c[2],k=c[6],c=c[10],m=e+i+c;0<m?(e=0.5/Math.sqrt(m+1),b.w=0.25/e,b.x=(k-j)*e,b.y=(g-l)*e,b.z=(h-f)*e):e>i&&e>c?(e=2*Math.sqrt(1+e-i-c),b.w=(k-j)/e,b.x=0.25*e,b.y=(f+h)/e,b.z=(g+l)/e):i>c?(e=2*Math.sqrt(1+i-e-c),b.w=(g-l)/e,b.x=(f+h)/e,b.y=0.25*e,b.z=(j+k)/e):(e=2*Math.sqrt(1+c-e-i),b.w=(h-f)/e,b.x=(g+l)/e,b.y=(j+k)/e,b.z=0.25*e);return b};d.identity=(new d).setIdentity();l.quat=d})(TSM||
(TSM={}));
